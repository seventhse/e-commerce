# Admin 技术栈文档

本文档详细说明了Admin系统使用的技术栈和各个库的作用。

## 核心技术

### 前端框架

- **React 19**: 用于构建用户界面的JavaScript库
  - 特点：组件化、声明式、高效的虚拟DOM
  - 用途：构建整个应用的UI

### 语言

- **TypeScript**: JavaScript的超集，添加了静态类型
  - 特点：类型安全、更好的开发体验、更好的代码提示
  - 用途：编写类型安全的代码，减少运行时错误

### 构建工具

- **Vite**: 现代化的前端构建工具
  - 特点：快速的冷启动、即时的模块热更新、优化的构建
  - 用途：开发环境和生产环境的构建

## 状态管理

- **Zustand**: 轻量级状态管理库
  - 特点：简单、灵活、基于hooks
  - 用途：管理应用的全局状态

## 路由

- **TanStack Router**: 现代化的React路由库
  - 特点：类型安全、基于文件系统的路由、懒加载支持
  - 用途：管理应用的路由和导航

## 数据获取

- **TanStack Query**: 数据获取和缓存库
  - 特点：声明式、自动缓存、自动重试、分页支持
  - 用途：管理API请求和服务器状态

- **Axios**: HTTP客户端
  - 特点：基于Promise、拦截器支持、自动转换JSON
  - 用途：发送HTTP请求

## UI组件

- **Radix UI**: 无样式、可访问性强的UI组件
  - 特点：可访问性、可定制性、无样式
  - 用途：提供基础UI组件

- **Lucide React**: 图标库
  - 特点：简洁、一致、可定制
  - 用途：提供应用中使用的图标

- **Recharts**: 图表库
  - 特点：基于React和D3、声明式API、响应式
  - 用途：数据可视化和图表展示

## 样式

- **Tailwind CSS**: 实用优先的CSS框架
  - 特点：实用优先、响应式、可定制
  - 用途：样式设计和布局

- **class-variance-authority**: 组件样式变体管理
  - 特点：类型安全、条件样式、变体支持
  - 用途：管理组件的样式变体

- **tailwind-merge**: 合并Tailwind类名
  - 特点：智能合并、冲突解决
  - 用途：合并和优化Tailwind类名

## 表单处理

- **React Hook Form**: 表单处理库
  - 特点：高性能、灵活、易用
  - 用途：管理表单状态和验证

- **Zod**: 数据验证库
  - 特点：类型安全、声明式、强大的验证规则
  - 用途：表单和数据验证

## 工具库

- **date-fns**: 日期处理库
  - 特点：模块化、不可变、功能丰富
  - 用途：日期格式化和操作

- **js-cookie**: Cookie处理库
  - 特点：简单、轻量、跨浏览器
  - 用途：管理浏览器Cookie

- **clsx**: 条件类名构建
  - 特点：小巧、高效、易用
  - 用途：构建条件类名

## 开发工具

- **ESLint**: 代码检查工具
  - 特点：可配置、插件化、自动修复
  - 用途：检查代码质量和风格

- **Prettier**: 代码格式化工具
  - 特点：固执己见、支持多种语言、集成简单
  - 用途：格式化代码

- **@tanstack/react-query-devtools**: React Query开发工具
  - 特点：查询监控、缓存检查、请求历史
  - 用途：调试React Query

- **@tanstack/router-devtools**: TanStack Router开发工具
  - 特点：路由监控、路由历史、路由参数检查
  - 用途：调试TanStack Router

## 测试工具

- **@faker-js/faker**: 生成假数据
  - 特点：多种数据类型、本地化支持、可定制
  - 用途：生成测试数据

## 依赖关系

下面是主要库之间的依赖关系：

```
React
├── TypeScript
├── Zustand (状态管理)
├── TanStack Router (路由)
├── TanStack Query (数据获取)
│   └── Axios (HTTP客户端)
├── Radix UI (UI组件)
├── Tailwind CSS (样式)
│   ├── class-variance-authority
│   └── tailwind-merge
└── React Hook Form (表单)
    └── Zod (验证)
```

## 版本信息

| 库                    | 版本       | 说明                     |
|-----------------------|------------|--------------------------|
| react                 | ^19.0.0    | React核心库              |
| react-dom             | ^19.0.0    | React DOM操作            |
| typescript            | ~5.7.2     | TypeScript               |
| vite                  | ^6.0.9     | 构建工具                 |
| @tanstack/react-query | ^5.62.3    | 数据获取和缓存           |
| @tanstack/react-router| ^1.86.1    | 路由管理                 |
| zustand               | ^5.0.2     | 状态管理                 |
| axios                 | ^1.8.2     | HTTP客户端               |
| tailwindcss           | ^3.4.16    | CSS框架                  |
| react-hook-form       | ^7.54.0    | 表单处理                 |
| zod                   | ^3.23.8    | 数据验证                 |
| date-fns              | ^4.1.0     | 日期处理                 |
| recharts              | ^2.14.1    | 图表库                   |

## 性能考虑

- **代码分割**: 使用TanStack Router的懒加载功能
- **缓存策略**: 使用TanStack Query的缓存功能
- **按需加载**: 只加载需要的组件和库
- **Tree Shaking**: 移除未使用的代码
- **图片优化**: 使用适当的图片格式和大小

## 安全考虑

- **输入验证**: 使用Zod进行数据验证
- **认证**: 使用JWT进行身份验证
- **CSRF保护**: 使用适当的CSRF令牌
- **XSS防护**: 使用React的内置XSS防护
- **安全依赖**: 定期更新依赖以修复安全漏洞

## 可访问性考虑

- **语义化HTML**: 使用正确的HTML元素
- **键盘导航**: 支持键盘导航
- **屏幕阅读器**: 使用ARIA属性
- **颜色对比**: 确保足够的颜色对比
- **响应式设计**: 适应不同的屏幕尺寸

## 国际化考虑

- **文本外部化**: 将文本存储在外部文件中
- **RTL支持**: 支持从右到左的语言
- **日期和数字格式**: 根据地区格式化日期和数字
- **翻译管理**: 使用翻译管理工具

## 部署考虑

- **静态文件**: 构建为静态文件
- **CDN**: 使用CDN分发静态资源
- **缓存策略**: 设置适当的缓存头
- **压缩**: 压缩静态资源
- **环境变量**: 使用环境变量进行配置
