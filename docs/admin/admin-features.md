# 电商系统管理端功能文档

## 1. 项目概述

本文档详细描述了电商系统管理端的功能模块、技术架构和开发计划。管理端基于React、Vite和ShadcnUI构建，提供了一套完整的电商后台管理界面，用于管理商品、订单、客户等核心业务数据。

### 1.1 技术栈

- **前端框架**: React
- **构建工具**: Vite
- **UI组件库**: ShadcnUI (基于TailwindCSS和RadixUI)
- **路由管理**: TanStack Router
- **数据获取**: TanStack Query
- **HTTP客户端**: Axios
- **状态管理**: Zustand
- **类型检查**: TypeScript
- **图表库**: Recharts
- **图标库**: Tabler Icons

### 1.2 项目结构

```
apps/admin/
├── src/
│   ├── components/       # 通用组件
│   ├── context/          # 上下文管理
│   ├── features/         # 功能模块
│   ├── hooks/            # 自定义钩子
│   ├── lib/              # 工具库
│   ├── routes/           # 路由配置
│   ├── services/         # API服务
│   ├── stores/           # 状态管理
│   └── utils/            # 工具函数
```

## 2. 功能模块

### 2.1 认证与权限管理

#### 2.1.1 登录页面
- **功能**: 提供用户登录界面，支持用户名/密码登录
- **实现状态**: 已实现基础登录页面
- **待完成**:
  - 记住我功能
  - 登录状态持久化
  - 错误提示优化

#### 2.1.2 权限控制
- **功能**: 基于角色的访问控制系统
- **实现状态**: 已实现基础权限验证
- **待完成**:
  - 细粒度权限控制
  - 基于权限的UI元素显示/隐藏
  - 权限管理界面

### 2.2 仪表盘/概览页

#### 2.2.1 数据统计卡片
- **功能**: 展示关键业务指标
- **实现状态**: 已实现静态UI
- **待完成**:
  - 接入实时数据API
  - 添加数据刷新机制
  - 自定义时间范围筛选

#### 2.2.2 销售趋势图表
- **功能**: 展示销售额和订单量趋势
- **实现状态**: 已实现基础图表UI
- **待完成**:
  - 接入实时数据API
  - 添加时间范围选择
  - 支持多维度数据对比

#### 2.2.3 最近销售记录
- **功能**: 展示最近的销售订单
- **实现状态**: 已实现静态UI
- **待完成**:
  - 接入实时数据API
  - 添加详情查看功能
  - 支持快速操作

### 2.3 商品管理

#### 2.3.1 商品列表页
- **功能**: 分页展示商品，支持搜索、筛选和排序
- **实现状态**: 已实现基础功能
- **已完成**:
  - 商品列表表格
  - 搜索和筛选功能
  - 分页功能
- **待完成**:
  - 批量操作功能
  - 快速编辑功能
  - 商品详情查看

#### 2.3.2 商品详情/编辑页
- **功能**: 查看和编辑商品详细信息
- **实现状态**: 未实现
- **待完成**:
  - 基本信息编辑表单
  - 商品图片上传与管理
  - 商品分类选择
  - 商品状态管理

#### 2.3.3 商品分类管理
- **功能**: 管理商品分类
- **实现状态**: 未实现
- **待完成**:
  - 分类列表（树形结构）
  - 添加/编辑/删除分类
  - 分类排序功能

### 2.4 订单管理

#### 2.4.1 订单列表页
- **功能**: 分页展示订单，支持搜索、筛选和排序
- **实现状态**: 已实现基础功能
- **已完成**:
  - 订单列表表格
  - 搜索和筛选功能
  - 日期范围选择
  - 分页功能
- **待完成**:
  - 订单状态快速更新
  - 批量操作功能
  - 订单详情查看

#### 2.4.2 订单详情页
- **功能**: 查看订单详细信息
- **实现状态**: 未实现
- **待完成**:
  - 订单基本信息展示
  - 订单项列表
  - 客户信息展示
  - 配送地址展示
  - 支付信息展示
  - 订单状态更新
  - 订单备注功能

### 2.5 客户管理

#### 2.5.1 客户列表页
- **功能**: 分页展示客户，支持搜索、筛选和排序
- **实现状态**: 未实现
- **待完成**:
  - 客户列表表格
  - 搜索和筛选功能
  - 快速编辑功能
  - 批量操作功能

#### 2.5.2 客户详情页
- **功能**: 查看客户详细信息
- **实现状态**: 未实现
- **待完成**:
  - 基本信息展示
  - 订单历史
  - 地址管理
  - 账户状态管理

### 2.6 系统管理

#### 2.6.1 用户管理
- **功能**: 管理后台用户
- **实现状态**: 已实现基础UI
- **待完成**:
  - 接入实时数据API
  - 完善用户编辑功能
  - 密码重置功能
  - 用户权限分配

#### 2.6.2 角色管理
- **功能**: 管理系统角色
- **实现状态**: 未实现
- **待完成**:
  - 角色列表
  - 添加/编辑/删除角色
  - 权限分配

#### 2.6.3 权限管理
- **功能**: 管理系统权限
- **实现状态**: 未实现
- **待完成**:
  - 权限列表
  - 权限分配
  - 权限组管理

### 2.7 地址管理

#### 2.7.1 地址列表页
- **功能**: 管理客户地址
- **实现状态**: 未实现
- **待完成**:
  - 地址列表表格
  - 按客户筛选地址
  - 地址详情查看

## 3. 通用组件与功能

### 3.1 全局搜索
- **功能**: 快速搜索商品、订单、客户
- **实现状态**: 已实现基础UI
- **待完成**:
  - 接入搜索API
  - 优化搜索结果展示
  - 添加搜索历史

### 3.2 通知中心
- **功能**: 系统通知和新订单提醒
- **实现状态**: 未实现
- **待完成**:
  - 通知列表
  - 通知标记已读
  - 通知设置

### 3.3 个人设置
- **功能**: 修改个人信息和密码
- **实现状态**: 部分实现
- **待完成**:
  - 完善个人信息编辑
  - 密码修改功能
  - 主题设置

### 3.4 布局组件
- **功能**: 提供统一的页面布局
- **实现状态**: 已实现
- **待完成**:
  - 优化响应式设计
  - 添加面包屑导航
  - 优化移动端体验

### 3.5 数据表格组件
- **功能**: 通用数据表格
- **实现状态**: 部分实现
- **待完成**:
  - 完善排序功能
  - 添加列自定义
  - 优化分页体验
  - 添加行内编辑

### 3.6 表单组件
- **功能**: 通用表单
- **实现状态**: 部分实现
- **待完成**:
  - 完善表单验证
  - 添加动态表单
  - 优化表单提交状态

## 4. 开发计划

### 4.1 第一阶段：基础框架与核心功能（已完成）
1. ✅ 认证系统（登录页面）
2. ✅ 布局组件（侧边栏、导航栏）
3. ✅ 仪表盘/概览页（基础版）
4. ✅ 商品列表页
5. ✅ 订单列表页

### 4.2 第二阶段：详情页与编辑功能
1. ⬜ 商品详情/编辑页
2. ⬜ 订单详情页
3. ⬜ 商品分类管理
4. ⬜ 客户列表页

### 4.3 第三阶段：系统管理与高级功能
1. ⬜ 用户与角色管理
2. ⬜ 权限管理
3. ⬜ 客户详情页
4. ⬜ 地址管理
5. ⬜ 高级仪表盘功能（图表、统计）

### 4.4 第四阶段：优化与完善
1. ⬜ 全局搜索
2. ⬜ 通知中心
3. ⬜ 个人设置
4. ⬜ 主题与样式优化
5. ⬜ 性能优化

## 5. API集成

### 5.1 已实现的API服务
- AuthService: 认证相关API
- UserService: 用户管理API
- ProductService: 商品管理API
- OrderService: 订单管理API
- ConsumerService: 客户管理API

### 5.2 API集成计划
1. 完善API错误处理
2. 添加请求缓存策略
3. 实现乐观更新
4. 添加请求状态管理
5. 优化API响应处理

## 6. 技术实现建议

### 6.1 路由管理
- 使用TanStack Router进行路由管理
- 配置嵌套路由结构
- 实现路由级别的权限控制
- 添加路由过渡动画

### 6.2 状态管理
- 使用Zustand进行全局状态管理
- 使用React Context进行局部状态管理
- 实现状态持久化
- 优化状态更新性能

### 6.3 UI组件
- 使用ShadcnUI组件库构建界面
- 实现响应式设计
- 支持明/暗模式切换
- 自定义主题配置

### 6.4 数据获取
- 使用TanStack Query进行数据获取和缓存
- 实现乐观更新
- 添加请求重试机制
- 优化数据加载状态

## 7. 测试与部署

### 7.1 测试计划
- 单元测试: 组件和服务测试
- 集成测试: 功能模块测试
- 端到端测试: 关键业务流程测试

### 7.2 部署计划
- 开发环境: 本地开发
- 测试环境: 自动化部署
- 生产环境: CI/CD流程

## 8. 下一步工作重点

1. **完成商品管理模块**
   - 实现商品列表页
   - 实现商品详情/编辑页
   - 实现商品分类管理

2. **完成订单管理模块**
   - 实现订单列表页
   - 实现订单详情页
   - 实现订单状态管理

3. **完善仪表盘功能**
   - 接入实时数据API
   - 优化图表展示
   - 添加数据筛选功能

4. **优化用户体验**
   - 完善响应式设计
   - 优化加载状态
   - 添加操作反馈
